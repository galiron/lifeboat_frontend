<mat-toolbar #toolbar>
    <button *ngIf="this.connectionState === this.connectionType.CONNECTED_WITH_CONTROL" mat-button style="flex: 1 1 auto;" (click)="releaseControl()">release control</button>
    <button *ngIf="this.connectionState === this.connectionType.CONNECTED_WITHOUT_CONTROL" mat-button style="flex: 1 1 auto;" (click)="requestControl()">request control</button>
</mat-toolbar>
<div style="position: absolute; width: 100%;">
    <div style="flex-flow: row;">
        <div style="display: flex; float: left; margin: 0.5rem; font-family: 'Roboto', sans-serif;" 
        [ngStyle]="{'color': (this.connectionState == this.connectionType.CONNECTED_WITH_CONTROL) ? '#66ff00' : 
        (this.connectionState == this.connectionType.CONNECTED_WITHOUT_CONTROL) ? 'yellow' : 
        (this.connectionState == this.connectionType.DISCONNECTED) ? 'red' : 'default'}"
        >status: {{this.connectionState}}</div>
        <div style="display: flex; float: right; margin: 0.5rem; font-family: 'Roboto', sans-serif;" 
        [ngStyle]="{'color': (this.idleTimer < 8) ? 'red' : 
        (this.idleTimer < 15) ? 'yellow' : '#66ff00'}"
        >idleTimer: {{this.idleTimer}}</div>
    </div>
</div>
<div class="main-window" #mainWindow> 
    <div style=" display: flex; flex-flow: row nowrap; height: 100%; width: 100%;">
        <div style="display: flex; flex-flow: row nowrap; min-width: 5rem;" #speedControlContainer>
            <app-speed-control *ngIf="this.connectionState === connectionType.CONNECTED_WITH_CONTROL" style="align-self: center; height: 100%; width: 100%;"></app-speed-control>
        </div>
        <div style="display: flex; flex-flow: column; margin-top: 2rem; height: 100%; width: 100%;">
            <div #swipers *ngFor="let _ of [].constructor(this.streamsToFitIntoDisplay)"
                [style.height.px]="this.swiperHeight"
                [style.width.px]="this.swiperWidth"
                style="display: flex; flex-flow: column; align-items: center; justify-content: center;"
                >
                <app-stream [setStreams] = streams style="width: 100%; height: 100%; display: flex;">

                </app-stream>
            </div>
        </div>
        
        <!-- <swiper style="margin-top: 2rem;"
        [virtual]="false"
        [slidesPerView]="1"
        [spaceBetween]="50"
        [navigation]="true"
        [pagination]="{ type: 'fraction' }"
        [centeredSlides]="true"
        [keyboard]="{
            enabled: true
        }"
        class="my-swiper"
        >
        <ng-template swiperSlide *ngFor="let slide of this.slides$ | async; index as i">
            <div class="swiper-slide-container">
            {{ slide }}
            </div>
        </ng-template>
    </swiper> -->
    </div>
    <div style="height: 5rem;" #steeringControlContainer>
        <div style="display: flex; flex-flow: column nowrap; ">
            <app-steering-control *ngIf="this.connectionState === connectionType.CONNECTED_WITH_CONTROL" style="align-self: center; height: 100%; width: 100%;"></app-steering-control>    
        </div>
    </div>
</div>