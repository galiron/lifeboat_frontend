<mat-toolbar #toolbar>
    <button *ngIf="this.connectionState == connectionType.CONNECTED_WITH_CONTROL" mat-button style="flex: 1 1 auto;" (click)="releaseControl()">release control</button>
    <button *ngIf="this.connectionState === this.connectionType.CONNECTED_WITHOUT_CONTROL" mat-button style="flex: 1 1 auto;" (click)="requestControl()">request control</button>
</mat-toolbar>
<div style="position: absolute; width: 100%;">
    <div style="flex-flow: row;">
        <div style="display: flex; float: left; margin: 0.5rem; font-family: 'Roboto', sans-serif;" 
        [ngStyle]="{'color': (this.connectionState == this.connectionType.CONNECTED_WITH_CONTROL) ? '#66ff00' : 
        (this.connectionState == this.connectionType.CONNECTED_WITHOUT_CONTROL) ? 'yellow' : 
        (this.connectionState == this.connectionType.DISCONNECTED) ? 'red' : 'default'}"
        >status: {{this.connectionState}}</div>
        <div style="display: flex; float: right; margin: 0.5rem; font-family: 'Roboto', sans-serif;" 
        [ngStyle]="{'color': (this.idleTimer < 8) ? 'red' : 
        (this.idleTimer < 15) ? 'yellow' : '#66ff00'}"
        >idleTimer: {{this.idleTimer}}</div>
    </div>
</div>
<div class="main-window" #mainWindow> 
    <div style="flex-grow: 100; display: flex; flex-flow: row nowrap; ">
        <!-- <div style="display: flex; flex-flow: row nowrap; flex-grow: 5;">
            <app-speed-control *ngIf="this.connectionState === connectionType.CONNECTED_WITH_CONTROL" style="align-self: center; height: 100%; width: 100%;"></app-speed-control>
        </div> -->
        <!--<swiper style="display: flex; flex-flow: row nowrap; background-color: greenyellow; margin-top: 2rem; flex-grow: 100;" direction="horizontal" [slidesPerView]="1">
                <ng-template  swiperSlide> {{ 2 }} </ng-template>
                <ng-template  swiperSlide> {{ 3 }} </ng-template>
        </swiper>-->
        <!--<div style="display: flex; flex-flow: row nowrap; background-color: greenyellow; margin-top: 2rem; flex-grow: 100;">

        </div>-->
        <swiper [virtual]="false"
            [slidesPerView]="1"
            [spaceBetween]="50"
            [navigation]="true"
            [pagination]="{ type: 'fraction' }"
            [centeredSlides]="true"
            [keyboard]="{
                enabled: true
            }"
            [virtual]="true"
            class="my-swiper"
            >
            <ng-template swiperSlide *ngFor="let slide of this.slides$ | async; index as i">
                <div class="swiper-slide-container">
                {{ slide }}
                </div>
            </ng-template>
        </swiper>
    </div>
    <!-- <div style="flex-grow: 5; ">
        <div style="display: flex; flex-flow: column nowrap; ">
            <app-steering-control *ngIf="this.connectionState === connectionType.CONNECTED_WITH_CONTROL" style="align-self: center; height: 100%; width: 100%;"></app-steering-control>    
        </div>
    </div> -->
</div>